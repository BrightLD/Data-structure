<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>audio</title>
</head>

<body>
    <button class="btn">点我啊</button>
    <audio src="./Eee.m4a" id="audio"></audio>
</body>
<script>
    var audio = document.getElementById("audio")
    var btn = document.querySelector('.btn')
    btn.addEventListener("click", function () {
        var audioPromise = audio.play();
        // H5中的audio.play()执行的结果为一个Promise对象
        console.log(audioPromise);
        audioPromise.then(
            // 执行成功的时候当前音频的时长
            console.log(audio.duration)
        ).catch(function (error) {
            // 当找不到文件的时候就会抛出下面的错误
            console.log(error);
            //DOMException: The element has no supported sources.(找不到来源地址)

            //DOMException是W3C DOM核心对象。DOMException接口表示一个处理的错误，当一个操作不可能执行的时候，会抛出一个异常。例如试图创建一个无效的DOM, 或通过一个不存在的节点作为参数节点操作方法。
        })

    })
</script>

</html>